<link rel="import" href="/static/bower_components/polymer/polymer.html">
<link rel="import" href="/static/bower_components/paper-button/paper-button.html">
     <link rel="stylesheet" href="/static/font-awesome/font-awesome-4.4.0/css/font-awesome.min.css">
<link rel="import" href="/static/bower_components/paper-styles/color.html">


<dom-module id="input-file">
  <style>
    :host {
      display: block;
      position: relative;
      overflow: hidden;
    }
    .upload{
      position: absolute;
      opacity: 0;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }

      paper-button.blue {
      color: var(--paper-blue-500);
      --paper-button-flat-focus-color: var(--paper-blue-50);
    }
    paper-button.blue:hover {
      background: var(--paper-blue-50);
    }

  </style>

  <template>
    <paper-button  class="blue ripple" id='inputfilebutton' raised>
      <div id ="uploadicon" style="display: inline-block;"> <i class="fa fa-cloud-upload"></i></div>
      <span>[[file_name]]</span> 
      <input type="file" class="upload" id="file" on-change="_fileChange"/>
    </paper-button>
  </template>



<script>
(function() {
  Polymer({
    is: 'input-file',
    properties: {
      file_name : {
        type : String,
        value : "Upload File"
      }
    },
    get file(){
      return this.$.file.files[0]
    },
    _fileChange: function(){
      this.file_name = this.file.name;
      console.log('File to read : ' + this.file_name );
      $('#upbutton')[0].disabled=false;
      $('#uploadicon')[0].style.display='none';
      $('#seeresults')[0].disabled=true;
      $('#dothis')[0].checked=false;

    },
    clear: function(){
      this.file_name = "Upload File";
      $('#uploadicon')[0].style.display='inline-block';
      $('#dothis')[0].checked=false;
      this.$.file.value = "";
    },
  });
})();
</script>
</dom-module>